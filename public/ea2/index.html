<!doctype html>
<html lang="de">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>EA2 | 2D Geometrie aus Linien | Pascal Hürten</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../ea2/style.css">
</head>

<body>
    <main>
        <nav class="breadcrumb" aria-label="Breadcrumb">
            <a href="../index.html">← Zurück zur Übersicht</a>
        </nav>

        <h1>EA2 - 2D Geometrie aus Linien - Pascal Hürten</h1>

        <section id="viewer" aria-labelledby="viewer-heading">
            <h2 id="viewer-heading">WebGL Drawing Canvas</h2>


            <div id="canvas-wrap">
                <canvas id="background-canvas" class="background" width="720" height="480"></canvas>
                <canvas id="background-image-canvas" class="background-image" width="720" height="480"
                    aria-hidden="true"></canvas>
                <canvas id="overlay-canvas" class="overlay" width="720" height="480" aria-hidden="true"></canvas>
                <aside id="controls">
                    <div class="row">
                        <label for="bgImage">Background Image:</label>
                        <input id="bgImage" type="file" accept="image/*" style="display:inline-block">
                        <button id="clearBgImage">Clear BG</button>
                        <input id="bgOpacity" type="range" min="0" max="100" value="50" title="Background opacity">
                        <span id="bgOpacityVal">50%</span>
                    </div>
                    <div class="row">
                        <label for="mode">Draw-Mode:</label>
                        <select id="mode">
                            <option value="LINES">LINES</option>
                            <option value="LINE_STRIP" selected>LINE_STRIP</option>
                            <option value="LINE_LOOP">LINE_LOOP</option>
                            <option value="TRIANGLES">TRIANGLES</option>
                            <option value="TRIANGLE_STRIP">TRIANGLE_STRIP</option>
                            <option value="TRIANGLE_FAN">TRIANGLE_FAN</option>
                        </select>
                    </div>
                    <div class="row">
                        <label for="lineWidth">Line width:</label>
                        <input id="lineWidth" type="range" min="1" max="10" value="1">
                        <span id="lineWidthVal">1</span>
                    </div>
                    <div class="row">
                        <label for="showOverlay">Show Vertices:</label>
                        <input id="showOverlay" type="checkbox">
                    </div>
                    <div class="row">
                        <strong>Layers:</strong>
                    </div>
                    <div id="layers-container" class="layers-list">
                        <!-- layers will be added here dynamically -->
                    </div>
                    <div class="row">
                        <button id="addLayer">+ Add Layer</button>
                    </div>
                    <div class="row buttons">
                        <button id="undo">Undo</button>
                        <button id="clear">Clear</button>
                        <button id="export">Export vertices</button>
                        <label for="fileInput">Import vertices:</label>
                        <input id="fileInput" type="file" accept=".obj,.json" style="display:inline-block">
                        <button id="loadDefault">Load default</button>
                    </div>
                    <div class="row small">
                        <small id="vertex-count">Vertices: 0</small>
                    </div>
                </aside>
            </div>

            <!-- Shader Editor Drawer (Bottom Panel) -->
            <div id="shaderDrawer" class="shader-drawer">
                <div class="shader-drawer-header">
                    <h2>Shader Editor - <span id="shaderLayerName">Layer</span></h2>
                    <button id="shaderDrawerClose" class="shader-drawer-close">&times;</button>
                </div>
                <div class="shader-drawer-content">
                    <div class="shader-editor-column">
                        <h3>Vertex Shader</h3>
                        <textarea id="vertexShaderText" class="shader-textarea" spellcheck="false"></textarea>
                    </div>
                    <div class="shader-editor-column">
                        <h3>Fragment Shader</h3>
                        <textarea id="fragmentShaderText" class="shader-textarea" spellcheck="false"></textarea>
                    </div>
                    <div class="shader-error" id="shaderError"></div>
                </div>
                <div class="shader-drawer-footer">
                    <button id="shaderApply" class="btn-primary">Apply Shaders</button>
                    <button id="shaderReset" class="btn-secondary">Reset to Default</button>
                    <button id="shaderCancel" class="btn-secondary">Close</button>
                </div>
            </div>
        </section>

        <section id="doc">
            <h2>Quellen & Hinweise</h2>

            <h3>Anleitung zur Nutzung:</h3>
            <ol>
                <li><strong>Zeichnen:</strong> Klicke auf das Canvas, um Punkte hinzuzufügen</li>
                <li><strong>Kontinuierliches Zeichnen:</strong> Halte Strg/Ctrl und ziehe, um mehrere Punkte zu
                    setzen</li>
                <li><strong>Rückgängig:</strong> Rechtsklick entfernt den letzten Punkt</li>
                <li><strong>Layer verwalten:</strong> Erstelle neue Layer mit "+ Add Layer" und wechsle zwischen
                    ihnen</li>
                <li><strong>Draw-Mode:</strong> Wähle verschiedene Rendering-Modi (LINE_STRIP, TRIANGLES, etc.)</li>
                <li><strong>Shader bearbeiten:</strong> Klicke auf "✎ Shader" bei einem Layer für erweiterte Effekte
                </li>
                <li><strong>Export/Import:</strong> Speichere deine Arbeit oder lade Vorlagen</li>
            </ol>

            <h3>Referenzen:</h3>
            <ul>
                <li>Wal wurde von diesem Foto abgepaust: <a href="https://jooinn.com/img/get"
                        target="_blank">https://jooinn.com/img/get</a></li>
                <li>Repo: <a href="https://git.mylab.th-luebeck.de/pascal.huerten/gvt/-/tree/master/public/ea2"
                        target="_blank">https://git.mylab.th-luebeck.de/pascal.huerten/gvt/-/tree/master/public/ea2</a>
                </li>
            </ul>
            <!-- Screenshots of process in a row -->
            <div class="doc-image-gallery">
                <img src="wal-ref-1.png" alt="" height="200">
                <img src="wal-ref-2.png" alt="" height="200">
            </div>
        </section>
    </main>
    <script src="script.js" defer></script>
</body>

</html>

</body>

</html>